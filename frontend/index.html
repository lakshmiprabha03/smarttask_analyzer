<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Task Analyzer</title>

    <link rel="stylesheet" href="styles.css" />
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>

<body>

<div class="container">
    <h1>Smart Task Analyzer</h1>

    <!-- ============================
         DASHBOARD
    =============================== -->
    <div class="dashboard">

        <!-- ============================
             SIDEBAR (LEFT PANEL)
        =============================== -->
        <aside class="sidebar">

            <h2 class="sidebar-title">Controls</h2>

            <!-- Strategy -->
            <div class="strategy-box card">
                <label for="strategy">Sorting Strategy:</label>
                <select id="strategy" class="dropdown">
                    <option value="smart">Smart Balance</option>
                    <option value="fastest">Fastest Wins</option>
                    <option value="impact">High Impact</option>
                    <option value="deadline">Deadline Driven</option>
                </select>
            </div>

            <!-- Holiday -->
            <div class="strategy-box card">
                <label for="holidayMode">Holiday Mode:</label>
                <select id="holidayMode" class="dropdown">
                    <option value="none">None</option>
                    <option value="indian">Indian Holidays</option>
                    <option value="custom">Custom Holidays Only</option>
                    <option value="both">Indian + Custom</option>
                </select>

                <textarea id="customHolidays"
                          placeholder='["2025-01-14","2025-10-20"]'
                          style="display:none;"></textarea>
            </div>

            <!-- Drag / Drop -->
            <div class="drag-section card">
                <h3>Create Task by Drag & Drop</h3>

                <div id="taskTemplate" draggable="true" class="drag-item">
                    üìù Drag me to create a new task
                </div>

                <div id="dropZone" class="drop-zone">
                    Drop here to create a new task
                </div>
            </div>

        </aside>

        <!-- ============================
             MAIN
        =============================== -->
        <main class="main">

            <!-- Manual task input -->
            <div class="card">
                <h2>Add Task Manually</h2>

                <form id="taskForm">
                    <div class="form-group">
                        <label>ID:</label>
                        <input type="number" id="id" required placeholder=" " />
                    </div>

                    <div class="form-group">
                        <label>Title:</label>
                        <input type="text" id="title" required placeholder=" " />
                    </div>

                    <div class="form-group">
                        <label>Due Date:</label>
                        <input type="date" id="due_date" />
                    </div>

                    <div class="form-group">
                        <label>Estimated Hours:</label>
                        <input type="number" step="0.1" id="estimated_hours" required placeholder=" " />
                    </div>

                    <div class="form-group">
                        <label>Importance (1-10):</label>
                        <input type="number" id="importance" min="1" max="10" required placeholder=" " />
                    </div>

                    <div class="form-group">
                        <label>Dependencies (comma-separated IDs):</label>
                        <input type="text" id="dependencies" placeholder=" " />
                    </div>

                    <button type="submit" class="btn">Add Task</button>
                </form>

                <div id="taskList"></div>
            </div>

            <!-- Bulk JSON -->
            <div class="card">
                <h2>Bulk JSON Input</h2>
                <textarea id="jsonInput" placeholder='[ { "id": 1, "title": "...", ... } ]'></textarea>
            </div>

            <!-- Main action buttons -->
            <div style="display:flex; gap:15px; flex-wrap:wrap;">
                <button id="analyzeBtn" class="btn analyze">Analyze Tasks</button>

                <button id="suggestBtn" class="btn analyze" style="background:#00897B;">
                    Suggest Top 3 Tasks
                </button>
            </div>

            <!-- Output areas -->
            <div id="results" style="margin-top:20px;"></div>
            <div id="suggestions" style="margin-top:20px;"></div>

            <!-- ======================================================
                 VISUALIZATION LAYOUT
            ======================================================= -->
            <div class="viz-wrapper">


                <div class="viz-controls">

                    <button id="visualizeBtn" class="btn viz-btn"
                            style="background:#6A1B9A;">
                        Visualize Dependencies
                    </button>

                    <button id="matrixBtn" class="btn viz-btn"
                            style="background:#00ACC1;">
                        Show Eisenhower Matrix
                    </button>

                </div>


                <div class="viz-output">

                    <div id="graphContainer"
                         style="height:450px; border:1px solid rgba(255,255,255,0.25);
                         margin-bottom:20px; display:none;"></div>

                    <div id="matrixContainer" style="display:none;">

                        <h2>Eisenhower Matrix</h2>

                        <div class="matrix-grid">

                            <div id="doFirst" class="matrix-box">
                                <div class="matrix-title">Do First (Urgent + Important)</div>
                                <div class="matrix-content"></div>
                            </div>

                            <div id="schedule" class="matrix-box">
                                <div class="matrix-title">Schedule (Not Urgent + Important)</div>
                                <div class="matrix-content"></div>
                            </div>

                            <div id="delegate" class="matrix-box">
                                <div class="matrix-title">Delegate (Urgent + Not Important)</div>
                                <div class="matrix-content"></div>
                            </div>

                            <div id="eliminate" class="matrix-box">
                                <div class="matrix-title">Eliminate (Not Urgent + Not Important)</div>
                                <div class="matrix-content"></div>
                            </div>

                        </div>

                    </div>

                </div>
            </div>

        </main>

    </div>
</div>

<!-- ======================================================
     MODAL
====================================================== -->
<div id="taskModal" class="modal">
    <div class="modal-content" id="modalBox">

        <h3>Task Details</h3>

        <div class="modal-row floating">
            <input type="text" id="modal_title" placeholder=" " required />
            <label>Title</label>
        </div>

        <div class="modal-row floating">
            <input type="date" id="modal_due" placeholder=" " />
            <label>Due Date</label>
        </div>

        <div class="two-col">

            <div class="modal-row floating">
                <input type="number" step="0.1" id="modal_hours" placeholder=" " required />
                <label>Estimated Hours</label>
            </div>

            <div class="modal-row floating">
                <input type="number" min="1" max="10" id="modal_importance" placeholder=" " required />
                <label>Importance (1-10)</label>
            </div>

        </div>

        <div class="modal-row floating">
            <input type="text" id="modal_deps" placeholder=" " />
            <label>Dependencies (comma separated)</label>
        </div>

        <div class="modal-buttons">
            <button id="saveTaskBtn" class="btn modal-save">Save Task</button>
            <button id="closeModalBtn" class="btn modal-cancel">Cancel</button>
        </div>

    </div>
</div>

<script src="script.js"></script>

</body>
</html>
